
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="介绍物联网基础概念">
      
      
      
        <meta name="author" content="WiSys Lob">
      
      <link rel="shortcut icon" href="../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-6.1.0">
    
    
      
        <title>14.6 蓝牙AoA测量角度的方法 - IoT Book</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bc7e593a.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ab28b872.min.css">
        
          
          
          <meta name="theme-color" content="#546d78">
        
      
    
    
    
      
        
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto",-apple-system,BlinkMacSystemFont,Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono",SFMono-Regular,Consolas,Menlo,monospace}</style>
      
    
    
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="blue-grey" data-md-color-accent="deep-orange">
      
  
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#_1" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid" aria-label="Header">
    <a href="../.." title="IoT Book" class="md-header-nav__button md-logo" aria-label="IoT Book">
      
  <img src="../../images/nicon.png" alt="logo">

    </a>
    <label class="md-header-nav__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header-nav__title" data-md-component="header-title">
      
        <div class="md-header-nav__ellipsis">
          <span class="md-header-nav__topic md-ellipsis">
            IoT Book
          </span>
          <span class="md-header-nav__topic md-ellipsis">
            
              14.6 蓝牙AoA测量角度的方法
            
          </span>
        </div>
      
    </div>
    
      <label class="md-header-nav__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active">
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0116 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 019.5 16 6.5 6.5 0 013 9.5 6.5 6.5 0 019.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" data-md-component="search-reset" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="IoT Book" class="md-nav__button md-logo" aria-label="IoT Book">
      
  <img src="../../images/nicon.png" alt="logo">

    </a>
    IoT Book
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../CH0_Front/%E5%89%8D%E6%B2%BF2/" class="md-nav__link">
      第2版前言
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../1.%20%E5%89%8D%E8%A8%80/%E7%89%A9%E8%81%94%E7%BD%91%E5%AF%BC%E8%AE%BA/" class="md-nav__link">
      第1版前言
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      第1章 物联网概述
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="第1章 物联网概述" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        <span class="md-nav__icon md-icon"></span>
        第1章 物联网概述
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../2.%20%E7%89%A9%E8%81%94%E7%BD%91%E7%AE%80%E4%BB%8B/%E7%89%A9%E8%81%94%E7%BD%91%E7%AE%80%E4%BB%8B/" class="md-nav__link">
      1.1 起源与发展
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      第2章 物联网开发
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="第2章 物联网开发" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        <span class="md-nav__icon md-icon"></span>
        第2章 物联网开发
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../3.%20%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/android%E5%BC%80%E5%8F%91%E5%9F%BA%E7%A1%80/" class="md-nav__link">
      2.1 Android 环境
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../3.%20%E5%B9%B3%E5%8F%B0%E6%90%AD%E5%BB%BA/matlab%E5%9F%BA%E7%A1%80/" class="md-nav__link">
      2.2 MATLAB 环境
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      第3章 物联网网络协议
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="第3章 物联网网络协议" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        <span class="md-nav__icon md-icon"></span>
        第3章 物联网网络协议
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../4.%20%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/%E7%89%A9%E8%81%94%E7%BD%91%E8%BF%9E%E6%8E%A5%E6%8A%80%E6%9C%AF/" class="md-nav__link">
      3.1 物联网连接技术
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../4.%20%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/4.2%20Wi-Fi%E6%97%A0%E7%BA%BF%E5%B1%80%E5%9F%9F%E7%BD%91/" class="md-nav__link">
      3.2 Wi-Fi无线局域网
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../4.%20%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/4.3%20%E8%93%9D%E7%89%99/" class="md-nav__link">
      3.3 蓝牙
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../4.%20%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/4.4%20ZigBee/" class="md-nav__link">
      3.4 ZigBee
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../4.%20%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/4.5%20%E6%AF%AB%E7%B1%B3%E6%B3%A2%E9%80%9A%E4%BF%A1/" class="md-nav__link">
      3.5 毫米波通信
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../4.%20%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/4.6%20%E5%8F%AF%E8%A7%81%E5%85%89%E9%80%9A%E4%BF%A1/" class="md-nav__link">
      3.6 可见光通信
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../4.%20%E7%89%A9%E8%81%94%E7%BD%91%E9%80%9A%E4%BF%A1%E5%8D%8F%E8%AE%AE/%E8%93%9D%E7%89%99%E5%AE%9E%E9%AA%8C/" class="md-nav__link">
      3.7 蓝牙连接实验
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      第4章 信号处理基础
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="第4章 信号处理基础" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        <span class="md-nav__icon md-icon"></span>
        第4章 信号处理基础
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH1_Signal/S1_%E4%BF%A1%E5%8F%B7%E7%9A%84%E5%8F%91%E9%80%81%E5%92%8C%E6%8E%A5%E6%94%B6/" class="md-nav__link">
      4.1 信号生成、发送和接收
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH1_Signal/S2_%E6%A8%A1%E6%8B%9F%E4%BF%A1%E5%8F%B7%E5%92%8C%E6%95%B0%E5%AD%97%E4%BF%A1%E5%8F%B7%E4%BB%8B%E7%BB%8D/" class="md-nav__link">
      4.2 从模拟到数字
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH1_Signal/S3_%E4%BF%A1%E5%8F%B7%E9%87%87%E6%A0%B7%E4%B8%8E%E9%87%87%E6%A0%B7%E5%AE%9A%E7%90%86/" class="md-nav__link">
      4.3 信号采样与采样定理
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH1_Signal/S4_%E4%BF%A1%E5%8F%B7%E9%87%8F%E5%8C%96/" class="md-nav__link">
      4.4 信号量化
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH1_Signal/S5_%E6%A1%88%E4%BE%8B%EF%BC%9A%E5%AE%9E%E7%8E%B0%E4%B8%80%E4%B8%AA%E5%BD%95%E9%9F%B3%E3%80%81%E6%94%BE%E9%9F%B3%E7%A8%8B%E5%BA%8F/" class="md-nav__link">
      4.5 案例：声音采集与播放
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      第5章 傅里叶分析
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="第5章 傅里叶分析" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        <span class="md-nav__icon md-icon"></span>
        第5章 傅里叶分析
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH2_Fourier/S1_%E5%82%85%E9%87%8C%E5%8F%B6%E5%88%86%E6%9E%90%E4%B8%80%E6%AE%B5%E5%8E%86%E5%8F%B2/" class="md-nav__link">
      5.1 历史与发展
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH2_Fourier/S2_%E5%82%85%E9%87%8C%E5%8F%B6%E7%BA%A7%E6%95%B0/" class="md-nav__link">
      5.2 傅里叶级数
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH2_Fourier/S3_%E5%82%85%E9%87%8C%E5%8F%B6%E5%8F%98%E6%8D%A2/" class="md-nav__link">
      5.3 傅里叶变换
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH2_Fourier/S4_%E7%A6%BB%E6%95%A3%E5%82%85%E9%87%8C%E5%8F%B6%E5%88%86%E6%9E%90/" class="md-nav__link">
      5.4 离散傅里叶分析
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH2_Fourier/S5_%E7%9F%AD%E6%97%B6%E5%82%85%E9%87%8C%E5%8F%B6%E5%8F%98%E6%8D%A2/" class="md-nav__link">
      5.5 案例：短时傅里叶与频谱
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      第6章 无线信道
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="第6章 无线信道" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        <span class="md-nav__icon md-icon"></span>
        第6章 无线信道
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH3_WirelessChannel/S1_%E4%BF%A1%E9%81%93%E5%AE%9A%E4%B9%89/" class="md-nav__link">
      6.1 定义与概念
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH3_WirelessChannel/S2_%E8%B7%AF%E5%BE%84%E6%8D%9F%E8%80%97%E4%B8%8E%E9%98%B4%E5%BD%B1%E8%A1%B0%E8%90%BD/" class="md-nav__link">
      6.2 路径损耗与阴影衰落
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH3_WirelessChannel/S3_%E5%A4%9A%E5%BE%84%E4%BF%A1%E9%81%93%E6%A8%A1%E5%9E%8B/" class="md-nav__link">
      6.3 多径信道模型
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH3_WirelessChannel/S4_%E6%A1%88%E4%BE%8B/" class="md-nav__link">
      6.4 案例：信道仿真与测量
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      第7章 信号滤波
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="第7章 信号滤波" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        <span class="md-nav__icon md-icon"></span>
        第7章 信号滤波
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH4_Filter/S1_%E6%BB%A4%E6%B3%A2%E5%99%A8%E6%A6%82%E5%BF%B5/" class="md-nav__link">
      7.1 滤波定义
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH4_Filter/S2_%E6%BB%A4%E6%B3%A2%E5%99%A8%E8%AE%BE%E8%AE%A1/" class="md-nav__link">
      7.2 滤波器设计
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH4_Filter/S3_%E6%A1%88%E4%BE%8B/" class="md-nav__link">
      7.3 案例：使用滤波器对录音信号降噪
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-10" type="checkbox" id="nav-10">
    
    <label class="md-nav__link" for="nav-10">
      第8章 数据调制和解调
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="第8章 数据调制和解调" data-md-level="1">
      <label class="md-nav__title" for="nav-10">
        <span class="md-nav__icon md-icon"></span>
        第8章 数据调制和解调
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH5_Modulate/S1_%E8%B0%83%E5%88%B6%E8%A7%A3%E8%B0%83%E4%BB%8B%E7%BB%8D/" class="md-nav__link">
      8.1 引言
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH5_Modulate/S2_%E5%B9%85%E5%BA%A6%E8%B0%83%E5%88%B6/" class="md-nav__link">
      8.2 幅度调制
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH5_Modulate/S3_%E9%A2%91%E7%8E%87%E8%B0%83%E5%88%B6/" class="md-nav__link">
      8.3 频率调制
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH5_Modulate/S4_%E7%9B%B8%E4%BD%8D%E8%B0%83%E5%88%B6/" class="md-nav__link">
      8.4 相位调制
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH5_Modulate/S5_%E5%9F%BA%E5%B8%A6%E4%BF%A1%E5%8F%B7%E5%92%8C%E8%BD%BD%E6%B3%A2%E4%B8%8A%E5%8F%98%E9%A2%91/" class="md-nav__link">
      8.5 载波上变频
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH5_Modulate/S6_%E8%B0%83%E5%88%B6%E6%96%B9%E6%B3%95%E7%BB%BC%E5%90%88%E5%BA%94%E7%94%A8/" class="md-nav__link">
      8.6 调制方法综合应用
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH5_Modulate/S7_%E7%9B%B8%E5%AF%B9%E5%AE%8C%E6%95%B4%E7%9A%84%E9%80%9A%E4%BF%A1%E7%B3%BB%E7%BB%9F%E5%AE%9E%E7%8E%B0/" class="md-nav__link">
      8.7 简单无线通信系统的实现
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-11" type="checkbox" id="nav-11">
    
    <label class="md-nav__link" for="nav-11">
      第9章 LoRa原理与实现
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="第9章 LoRa原理与实现" data-md-level="1">
      <label class="md-nav__title" for="nav-11">
        <span class="md-nav__icon md-icon"></span>
        第9章 LoRa原理与实现
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH6_LoRa/S1_LoRa%E7%AE%80%E4%BB%8B/" class="md-nav__link">
      9.1 LoRa编码技术
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH6_LoRa/S2_LoRa%E9%80%9A%E4%BF%A1%E5%AE%9E%E9%AA%8C/" class="md-nav__link">
      9.2 LoRa编解码与通信实验
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH6_LoRa/S3_LoRa%E5%86%B2%E7%AA%81%E8%A7%A3%E7%A0%81/" class="md-nav__link">
      9.3 LoRa冲突解码算法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH6_LoRa/S4_LoRa%E6%B5%8B%E8%AF%95%E5%BA%8A%E6%A6%82%E8%BF%B0%E5%92%8C%E5%8A%9F%E8%83%BD/" class="md-nav__link">
      9.4 LoRa测试床概述和功能
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH6_LoRa/S5_LoRa%E6%B5%8B%E8%AF%95%E5%BA%8A%E6%8A%80%E6%9C%AF%E5%AE%9E%E7%8E%B0/" class="md-nav__link">
      9.5 LoRa测试床技术实现
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH6_LoRa/S6_LoRa%E8%AE%BE%E5%A4%87%E8%BF%9C%E7%A8%8B%E6%9B%B4%E6%96%B0/" class="md-nav__link">
      9.6 LoRa设备远程更新
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../404/" class="md-nav__link">
      9.7 LoRa Backscatter通信
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../404/" class="md-nav__link">
      9.8 LoRa Backscatter感知
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12">
    
    <label class="md-nav__link" for="nav-12">
      第11章 无线测距
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="第11章 无线测距" data-md-level="1">
      <label class="md-nav__title" for="nav-12">
        <span class="md-nav__icon md-icon"></span>
        第11章 无线测距
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH8_Ranging/S1_%E5%9F%BA%E4%BA%8E%E4%BF%A1%E5%8F%B7%E5%BC%BA%E5%BA%A6%E6%B5%8B%E8%B7%9D/" class="md-nav__link">
      11.1 基于信号强度测距
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH8_Ranging/S2_%E5%9F%BA%E4%BA%8E%E4%BC%A0%E6%92%AD%E6%97%B6%E9%97%B4%E6%B5%8B%E8%B7%9D/" class="md-nav__link">
      11.2 基于传播时间测距
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH8_Ranging/S3_FMCW%E6%B5%8B%E8%B7%9D/" class="md-nav__link">
      11.3 FMCW测距
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-13" type="checkbox" id="nav-13">
    
    <label class="md-nav__link" for="nav-13">
      第12章 无线定位
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="第12章 无线定位" data-md-level="1">
      <label class="md-nav__title" for="nav-13">
        <span class="md-nav__icon md-icon"></span>
        第12章 无线定位
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH9_LocalizationAlgo/S1_TOA%E5%AE%9A%E4%BD%8D%E7%AE%97%E6%B3%95/" class="md-nav__link">
      12.1 ToA定位
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH9_LocalizationAlgo/S2_TDOA%E5%AE%9A%E4%BD%8D%E7%AE%97%E6%B3%95/" class="md-nav__link">
      12.2 TDoA定位
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH9_LocalizationAlgo/S3_%E5%9F%BA%E4%BA%8E%E5%88%B0%E8%BE%BE%E8%A7%92%E7%9A%84%E5%AE%9A%E4%BD%8D%E7%AE%97%E6%B3%95/" class="md-nav__link">
      12.3 基于信号指纹定位
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH9_LocalizationAlgo/S4_%E5%9F%BA%E4%BA%8E%E4%BF%A1%E5%8F%B7%E6%8C%87%E7%BA%B9%E7%9A%84%E5%AE%9A%E4%BD%8D%E7%AE%97%E6%B3%95/" class="md-nav__link">
      12.4 基于到达角定位
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-14" type="checkbox" id="nav-14">
    
    <label class="md-nav__link" for="nav-14">
      第13章 无线追踪
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="第13章 无线追踪" data-md-level="1">
      <label class="md-nav__title" for="nav-14">
        <span class="md-nav__icon md-icon"></span>
        第13章 无线追踪
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH10_Tracking/S1_%E5%9F%BA%E4%BA%8E%E5%A4%9A%E6%99%AE%E5%8B%92%E6%95%88%E5%BA%94%E7%9A%84%E8%BF%BD%E8%B8%AA%E6%96%B9%E6%B3%95/" class="md-nav__link">
      13.1 基于多普勒效应追踪
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH10_Tracking/S2_%E5%9F%BA%E4%BA%8EFMCW%E7%9A%84%E8%BF%BD%E8%B8%AA%E6%96%B9%E6%B3%95/" class="md-nav__link">
      13.2 基于FMCW追踪
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../CH10_Tracking/S3_%E5%9F%BA%E4%BA%8E%E4%BF%A1%E5%8F%B7%E7%9B%B8%E4%BD%8D%E5%8F%98%E5%8C%96%E7%9A%84%E8%BF%BD%E8%B8%AA%E6%96%B9%E6%B3%95/" class="md-nav__link">
      13.3 基于信号相位追踪
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-nav__toggle md-toggle" data-md-toggle="nav-15" type="checkbox" id="nav-15" checked>
    
    <label class="md-nav__link" for="nav-15">
      第14章 无线感知实例
      <span class="md-nav__icon md-icon"></span>
    </label>
    <nav class="md-nav" aria-label="第14章 无线感知实例" data-md-level="1">
      <label class="md-nav__title" for="nav-15">
        <span class="md-nav__icon md-icon"></span>
        第14章 无线感知实例
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../S1_%E5%9F%BA%E4%BA%8E%E4%BF%A1%E5%8F%B7%E7%89%B9%E5%BE%81%E7%9A%84%E6%89%8B%E5%8A%BF%E8%AF%86%E5%88%AB/" class="md-nav__link">
      14.1 基于信号特征的手势识别
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../S4_%E9%BA%A6%E5%85%8B%E9%A3%8E%E9%98%B5%E5%88%97%E6%84%9F%E7%9F%A5/" class="md-nav__link">
      14.2 基于麦克风阵列的定位方法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../S2_%E5%A3%B0%E9%9F%B3%E8%AE%BE%E5%A4%87%E8%AE%A4%E8%AF%81/%E9%A2%91%E7%8E%87%E9%80%89%E6%8B%A9/" class="md-nav__link">
      14.3 基于信号特征的设备认证
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../S3_UWB%E6%84%9F%E7%9F%A5/" class="md-nav__link">
      14.4 UWB设备环境配置
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../S6_WIFI%E6%84%9F%E7%9F%A5/" class="md-nav__link">
      14.5 WiFi CSI的获取
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        14.6 蓝牙AoA测量角度的方法
        <span class="md-nav__icon md-icon"></span>
      </label>
    
    <a href="./" class="md-nav__link md-nav__link--active">
      14.6 蓝牙AoA测量角度的方法
    </a>
    
      
<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    蓝牙发展历史
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    蓝牙寻向基本原理
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    定位设备调研和实践
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    定位算法实现和问题
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    蓝牙定位的应用场景
  </a>
  
</li>
      
    </ul>
  
</nav>
    
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#_2" class="md-nav__link">
    蓝牙发展历史
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_3" class="md-nav__link">
    蓝牙寻向基本原理
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_4" class="md-nav__link">
    定位设备调研和实践
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_5" class="md-nav__link">
    定位算法实现和问题
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#_6" class="md-nav__link">
    蓝牙定位的应用场景
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="_1">蓝牙感知<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<h2 id="_2">蓝牙发展历史<a class="headerlink" href="#_2" title="Permanent link">&para;</a></h2>
<p>蓝牙技术开始于 1994 年爱立信提出的一项方案，该方案希望研究出能够在移动电话和其他配件之间进行低功耗、低成本无线通信连接的方法。1997 年，爱立信通过蓝牙这一概念接触了移动设备制造商，得到了制造商的支持。1998 年，爱立信联合英特尔，IBM，诺基亚以及东芝公司成立了蓝牙特别兴趣小组（Special Interest Group, SIG），即蓝牙技术联盟，旨在开发一个低成本、高效益、可以在短距离范围内随意无线连接的蓝牙标准技术。从 1998 年至今，蓝牙经历了从 1.0 到 5.2 多个重要版本的更新。</p>
<p>1999 年，蓝牙技术联盟提出蓝牙 1.0 标准；2001 年，提出蓝牙 1.1 标准；2003 年，提出蓝牙 1.2 标准，1.2 标准增加了抗干扰跳频功能以及匿名方式。上述阶段为第一代蓝牙技术发展阶段，是关于短距离通讯早期的探索。</p>
<p>2004 年，蓝牙 2.0 标准新增 ED（Enhanced Data Rate）技术；2007 年，蓝牙 2.1 标准新增 Sniff Subrating 省电功能。第二代蓝牙进入了发力传输速率的 EDR 时代。</p>
<p>2009 年，蓝牙 3.0 标准增加了可选技术 High Speed。第三代蓝牙传输速率高达 24Mbps，远高于 2.1 标准的 3Mbps 以及 1.2 标准的 1Mbps。</p>
<p>2010 年，蓝牙 4.0 标准提出了低功耗蓝牙、传统蓝牙和高速蓝牙三种模式；2013 年，蓝牙 4.1 标准提升了蓝牙连接速度并且使得蓝牙更加智能化；2014 年，蓝牙 4.2 标准改善了数据传输速度并且提高了隐私保护程度。第四代蓝牙主推低功耗模式，功耗较老版本降低了 90%。</p>
<p>2016 年，蓝牙 5.0 标准提出了功耗更低、覆盖更广、速度更快的蓝牙标准；2019 年初，蓝牙 5.1 标准增加了 direction finding 寻向功能，可以用来检测蓝牙信号的方向，进一步提升蓝牙位置相关服务；2019 年底，蓝牙 5.2 标准针对低功耗蓝牙（BLE）新增 LE 同步信道、增强版 ATT、LE 功率控制等新功能。第五代蓝牙正式开启物联网时代大门。</p>
<h2 id="_3">蓝牙寻向基本原理<a class="headerlink" href="#_3" title="Permanent link">&para;</a></h2>
<p>2019 年初，蓝牙 5.1 标准增加了寻向功能，可以用来检测蓝牙信号的方向，理论上可以进一步提高蓝牙定位的精确的。</p>
<p>蓝牙 5.1 寻向功能依靠天线阵列在空间上的不同位置带来时间上的相位偏差。根据被定位设备的上下行模式的不同，可以将寻向功能分成 AoA 到达角度法（Angle of Arrival）和 AoD 出发角度法（Angle of Departure）。</p>
<p>在 AOA 定位场景中，被定位设备，比如贴在被定为物上的便携蓝牙 tag，用单根天线广播定位用数据包。接收端则拥有一组天线阵列，一齐接收这一个数据包。由于天线阵列中不同天线到发送端的距离不同，这一距离差就会带来相位差，即不同天线在同一时间接收到的信号的相位有一定差异。接收端会快速轮询各个天线，每根天线都会记录若干个采样点的 I/Q 值（见图 2.2)，这些 I/Q 值可以算出当前采样时刻的信号相位，从而根据天线间的相位差即可算出入射角 AOA。</p>
<p><center>
<img src="./fig/AoA_D.png" width=600px>
</center>
<center></p>
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
display: inline-block;
color: #999;
padding: 2px;">图. AoA/AoD 基本模式</div>
<p></center></p>
<p><center>
<img src="./fig/IQ_phase.png" width=600px>
</center>
<center></p>
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
display: inline-block;
color: #999;
padding: 2px;">图. I/Q 值和相位的关系</div>
<p></center></p>
<p>AOD 定位场景与之相反，被定位的物体需要通过天线阵列同时广播定位用数据包，而接收者用单根天线接收。类似地，由于距离不同，接收者在同时接收天线阵列的广播信号时，接收到不同天线的信号相位是不同的。发射者交替使用发射阵列中的各根天线发射，接收者在每次天线切换时就会感知到相位的跳变，据此可算出距离差，从而完成定位。AOA 定位只需要两个固定定位节点，而 AOD 如果不知道阵列的确切朝向，需要 3 个节点才能完成；除此之外，AOD 的劣势在于被定位者需要拥有天线阵列，受到被定位物体的空间和能耗的限制；而优势在于其可以提供 AOA 无法提供的朝向信息，因此往往用于室内定位系统（Indoor Positioning System：IPS），给用户在体育馆，商场等地形复杂的室内环境（这些环境下由于音响，金属物体等干扰，手机指南针都会时常失灵）提供精确便捷的导航。</p>
<p>在蓝牙 5.1 中伴随着 AOA 和 AOD 的引入，还定义了固定频率扩展信号（Constant Tone Extension：CTE），这是在包尾附带的若干个 0 或者 1，在蓝牙协议中，这一串 0 或 1 会被翻译成频率稳定的正弦波发射出来。蓝牙 5.1 标准规定，无论主从，都可以发起一个 LL_CTE_REQ PDU，要求对方发送 CTE；其中的 CTETypeReq 字段也描述了请求的定位模式是 AOA 还是 AOD，以及发送时天线的切换间隔。同时，蓝牙 5.1 也对天线阵列接收/发送的时间表做出了明确的规定，见下图。
<center>
<img src="./fig/BLE5.1.png" width=600px>
</center>
<center></p>
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
display: inline-block;
color: #999;
padding: 2px;">图. 蓝牙 5.1 规定的 AOA/AOD 时间表</div>
<p></center></p>
<p>下面以 AOA 为例介绍蓝牙定位的基本原理。</p>
<p>蓝牙定位中计算 AOA 的具体原理如下：</p>
<p>AOA 定位中，发射端用单根天线发送一段正弦波，接收端用天线阵列接收这一信号，计算信号的入射角。先假设定位时天线阵列能同时接收信号。下图绘制了接收端的情况。
<center>
<img src="./fig/AoA_position.png" width=600px>
</center>
<center></p>
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
display: inline-block;
color: #999;
padding: 2px;">图. AOA 定位原理图</div>
<p></center></p>
<p>发射天线向接收端天线阵列中，相距位 d 的两根天线阵列接收来自被定位蓝牙设备发出的蓝牙信号，以图中蓝色箭头表示。由于这两根接收天线到发射天线的距离不同，这两根天线收到的信号会出现一个恒定的相位差。而因为发射端到天线的距离远大于 d，发射天线这两个接收天线的路径可以视为平行。在这一假设下，从一根天线向另一根作垂线，截取出的<span><span class="MathJax_Preview">r</span><script type="math/tex">r</script></span>直角边就是路程差。显然，在这个直角三角形中，有：</p>
<div>
<div class="MathJax_Preview"> r = d\sin{\theta} </div>
<script type="math/tex; mode=display"> r = d\sin{\theta} </script>
</div>
<p><span><span class="MathJax_Preview">\theta</span><script type="math/tex">\theta</script></span>表示AoA。另一方面，相位差与路程差的关系为：</p>
<div>
<div class="MathJax_Preview"> \Delta\phi = \frac{2\pi}{\lambda} r </div>
<script type="math/tex; mode=display"> \Delta\phi = \frac{2\pi}{\lambda} r </script>
</div>
<p>其中<span><span class="MathJax_Preview">\Delta\phi</span><script type="math/tex">\Delta\phi</script></span>代表相位差，<span><span class="MathJax_Preview">\lambda</span><script type="math/tex">\lambda</script></span>表示蓝牙波长。根据上述公式，可以推导出AoA：</p>
<div>
<div class="MathJax_Preview"> \theta = arc\sin{\frac{\lambda\Delta\phi}{2\pi d}}</div>
<script type="math/tex; mode=display"> \theta = arc\sin{\frac{\lambda\Delta\phi}{2\pi d}}</script>
</div>
<p>在算出方向角后，就可以根据被定位设备到不同定位点的方向角算出其具体位置。</p>
<p>AOA 场景下，只要知道接收天线阵列的位置和朝向，只需要两个点即可完成定位。每个定位点感知到的方向角都会将被定位设备约束在一条直线上，而两条直线的交点即为其确切位置，如下图：
<center>
<img src="./fig/AoA_2.png" width=600px>
</center>
<center></p>
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
display: inline-block;
color: #999;
padding: 2px;">图. AOA 两点定位</div>
<p></center></p>
<p>而 AOD 场景下，如果不知道发射天线的确切朝向，需要三个接收天线才能锁定其位置。这是因为接收天线的朝向不确定增加了一个自由度，或者说，现在知道的确切信息只有被定位点感知到的接收天线之间的夹角，两个接收天线只能将其定位在一个圆上，而三个接收天线可形成两个夹角，画出两个圆，其交点即为目标位置。
<center>
<img src="./fig/AoD_3.png" width=600px>
</center>
<center></p>
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
display: inline-block;
color: #999;
padding: 2px;">图. AOD 三点定位</div>
<p></center></p>
<p>三根天线的情形下不止能完成定位，也可以顺带算出当前发射天线的朝向，这是 AOA 做不到的。这在导航系统等应用中至关重要。</p>
<p>不过，在仅有两根接收天线的场景下，可以通过指南针等额外手段获得其朝向，完成定位。由于知道了当前朝向即可推算地球坐标系下接收天线的方位角，这种定位的原理和 AOA 相同。不过，在这种情况下，定位结果对朝向信息较为敏感，在室内定位场景中，指南针往往会有较大的误差，导致在只有两根接收天线时，这种定位方式的误差较大。</p>
<p>以上是蓝牙定位的原理部分介绍。下面介绍用到的硬件和具体的实验流程。</p>
<h2 id="_4">定位设备调研和实践<a class="headerlink" href="#_4" title="Permanent link">&para;</a></h2>
<p>敬请期待。。。</p>
<!-- 对于当前市场上声称可以进行开发并且实现蓝牙 AoA 的部分设备，我们进行了一系列调研和实践，设备和主要的算法效果如下：
### 1. telink AoA 设备
蓝牙 AoA 高精度定位技术白皮书》中介绍到泰凌微（telink）电子（上海）有限公司。该公司成立于 2010 年，是一家以高集成度低功耗物联网系统级芯片为主要研发方向的中美合资芯片设计公司。泰凌微电子目前有 TLSR825x 系列以及 TLSR827x 系列蓝牙芯片支持 AoA/AoD 功能。

我们购买了 TLSR8278 相关开发套件，并且按照 http://wiki.telink-semi.cn/wiki/chip-series/TLSR827x-Series/ 中相关介绍进行操作，以获取 AoA 信息。

但是实验结果表明，在使用过程中，无论被定位物体位置如何变化，该套开发设备获取的 AoA 数据值保持不变，并不能够成功获取 AoA 信息。同时该套开发设备也不能提供蓝牙相位信息，无法进行个人开发。
### 2. 德州仪器
德州仪器进行蓝牙 AoA 定位模块的设备包括 Master, Passive 和 Slave 三种节点，对应其在 BLE 通信中的三种角色。Slave 会在 Master 的命令下广播含有 CTE 的蓝牙数据包，而 Master 和 Passive 带有接收天线阵列，负责接收这些广播包并计算 AoA。这套设备支持一个 Master 对多个 Slave 和多个 Passive，但不支持多个 Master 出现在一个定位场景中，即不支持一个 Slave 连接多个 Master，这是受到了蓝牙协议的限制。

德州仪器的定位原理基于蓝牙 5.1 协议新提出的 Constant Tone Extension (CTE) 机制。通过在数据包末尾发送一连串的 0 或者 1，相当于发送一束频率恒定的正弦波。这样就和其它天线阵列定位手段类似，用天线阵列之间的相位差换算成传输路程差，再结合天线之间的相对位置和距离，就可以算出入射角 AoA 了。

另外，德州仪器提供的天线阵列一组包含三根沿直线分布的天线，因此只能分辨 180°范围内的 AoA，而无法区分信号是从天线阵列的哪一侧传来。并且，实验观察到在这 180°范围内的中间位置定位精度较高，而角度变小和变大时定位精度都有明显降低。因此，使用时建议将这些天线部署在场景四周，并指向被测物最有可能出现的位置，以尽可能提高精度。另一方面，多径对定位精度也会带来很大的影响，因此建议将设备悬空架在三脚架上，能获得比放置在地面或桌面等更高的精度。

德州仪器的 AoA 天线阵列并不是常见的同时采样并计算相位差，而是轮询采样的。每一个数据包到达时，会先用当前天线接收 8ms，然后开始轮询每根天线。每根天线会采样 1~2ms，然后经过 1~2ms 的 switch slot 时间作为过渡，再切换到另一根天线。需要注意的是在这段过渡时间的采样点都会悉数保存下来，因此直接看数据会发现天线之间的相位差是平滑过渡，而非跳跃式的。每根天线会在其采样时间内测量 I/Q 值，可从 I/Q 值计算当前相位值；

德州仪器提供的开发板也会有频繁断开连接的情况。不过，新版 CC26X2R1 设备要比上一代设备稳定一些，支持最新的蓝牙 5.1 协议，也在硬件方面的内存空间和计算力上有所提升。然而，这组开发板只有在无线电纯净的环境中才能保证长时间稳定连接；在周围发送广播的蓝牙设备较多时，设备使用默认的参数配置，可能会在几秒内断开连接，并无法立即重连，影响实验进程，打断定位的实时性。断开连接可能是设备错误解析了某些包导致。分析代码发现 connection_interval_msec 定位间隔毫秒数默认值设置为 100，而文档中提示这个参数的推荐值在 300 到 800 的区间内，定位过于频繁可能是导致连接不稳定的原因。通过设置 connection_interval_msec 参数为 300，可以缓解这一问题，在附近蓝牙设备不十分密集的场所下基本可以保证一两分钟的稳定连接。不过，对应地，AoA 的刷新频率也放慢了 3 倍，降低了实时性。这一参数可以酌情调整。 -->

<h2 id="_5">定位算法实现和问题<a class="headerlink" href="#_5" title="Permanent link">&para;</a></h2>
<p>敬请期待。。。</p>
<!-- ### 1. 德州仪器 SimpleLink CC26X2R 背景
下面介绍德州仪器最新的 AoA 定位模组的硬件部分和软件部分。

AoA 定位模组的硬件部分包括 SimpleLink CC26X2R LaunchPad 开发板和 BOOSTXL-AoA 蓝牙天线模组。前者为一长方形可编程开发板，后者为一三角形电路板，两侧各有三根天线，可焊接在开发板上，用于接收蓝牙信号和计算入射角 AoA。一个完整的蓝牙 AoA 定位场景需要至少三片 SimpleLink CC26X2R LaunchPad 设备和至少两片 BOOSTXL-AoA 模组构成。
<center>
<img src="./fig/CC26X2R1.png" width=600px>
</center>
<center>
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
display: inline-block;
color: #999;
padding: 2px;">图. SimpleLink CC26X2R LaunchPad 开发板</div>
</center>


<center>
<img src="./fig/BOOSTXL_AoA.png" width=600px>
</center>
<center>
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
display: inline-block;
color: #999;
padding: 2px;">图. BOOSTXL-AoA 蓝牙天线</div>
</center>

软件部分包括在电脑中运行的控制代码和烧录到 LaunchPad 开发板中的固件组成。一共有三种固件，烧录后在蓝牙通信中分别扮演 Master，Passive 和 Slave 的角色；每个定位场景需要一个 Master，一个 Slave 和一个以上的 Passive 节点，其中烧录了 Slave 的开发板固定在被定位的物体上，位置未知，Master 和 Passive 位置固定且已知，并通过 usb 和同一台电脑相连。Master 给 Slave 发送控制信号使 Slave 广播定位信息，而后由 Master 和 Passive 接收这些广播，分别计算 AoA，由两个及以上的 AoA 结果即可算出 Slave 的位置。烧录 Master 和 Passive 的开发板需要装有 BOOSTXL-AoA 模组，以计算 AoA；烧录 Slave 的开发板由于只需要收发信号，不需要计算 AoA，可以通过开发板上自带的单根天线完成，不需要装备 BOOSTXL-AoA 模组。
### 2. 实验环境的配置和搭建
(1) 安装 SDK：从这个网址下载安装 SimpleLink CC13X2-26X2 SDK 。在安装目录下包含了需要用到的所有软件，包括电脑运行的控制代码和烧录用的 Master，Passive 和 Slave 三种固件。

电脑端的控制代码在<SimpleLink CC13X2 / CC26X2 SDK> → tools → ble5stack → rtls_agent 文件夹。使用时需要python3环境。在使用前需要按照该文件夹内Readme的指示，在 rtls_agent 目录下执行

        pip.exe install -r requirements.txt 
安装所需要的 python 包，再执行

        package.bat -c -b -u -i 

将 rtls_agent 文件夹下的库文件安装好。注意，package.bat 中硬编码了 python 的路径，使用时需要编辑该文件的前 8 行，将 PYTHON3 和 PIP3 两个变量值设置为正确的 python.exe 和 pip.exe 的路径。

(2) 烧录固件：烧录的固件在<SimpleLink CC13X2 / CC26X2 SDK> → examples → rtos → CC26X2R1_LAUNCHXL → ble5stack 目录下，有名为 rtls_master, rtls_slave, rtls_passive三个文件夹，分别对应master，slave和passive三种角色的固件。这里rtls是real time localization system的缩写。每个固件都是一个CCS项目，烧录时需要安装Code Composer Studio，打开各个目录下的CCS工程文件，对工程进行编译，然后使用CCS的debug功能将代码载入开发板；如果这一过程受阻，也可以将编译好的二进制文件用其他工具烧录入开发板的flash中。

(3) 安装硬件：图 4.1 与图 4.2 为传统开发板与蓝牙天线示意图，每个开发板配有一套天线用于收发数据。根据 AoA 计算原理，需要使用天线阵列接收蓝牙信号。因此需要将 BOOSTXL_AoA 模组与 CC26X2R1 组件连接起来，使用 BOOSTXL_AoA 中的天线阵列。在使用过程中，烧录了 master 和 passive 的开发板上均可安装 BOOSTXL-AoA 模组用来接收蓝牙信号。由于安装过后需要使用外部天线，因此需要对传统 CC26X2R1 开发板进行修改，具体修改步骤可参照 https://dev.ti.com/tirex/explore/node?node=AHYhhuDNTaRXzkOlahOlvA__pTTHBmu__LATEST

### 3. 数据的获取和定位原理
在定位实验中，我们会将 Master 和 Passive 开发板部署在需要定位的环境中，将他们的天线组水平放置在固定位置，并测量这些天线的中心位置和朝向。受限于 AoA 的原理，使用一组直线排布的天线阵列时，只能完成 180°范围内的定位，而无法判断目标位置在天线的哪一侧；为了达到最高精度，应尽可能将天线放置在场景边缘。Master 和 Passive 都需要通过 USB 和同一台电脑相连，用于传回 AoA 数据等。在部署完毕后，即可定位 Slave 所在位置。Slave 只需要向四周发送信号，因此不需要天线阵列；其行为是 Master 通过蓝牙远程控制的，因此也不需要连接电脑，只要有充电宝等便携能源给其 usb 接口供电即可。 

在布置好实验环境后，只要将 Master 和 Passive 接入电脑，并启动控制代码即可。在<SimpleLink CC13X2 / CC26X2 SDK> → tools → ble5stack → rtls_agent → rtls_ui 文件夹下给出了带有图形界面的控制工具，双击 rtls_ui.exe，等待其加载完成即可在浏览器中看到TI设计的可视化页面。待该应用扫描端口，发现连入usb的SimpleLink开发板后，按照提示选中并连接Master和Passive设备，然后点击auto play按钮即可自动完成整个定位流程，并实时地将AoA结果输出到屏幕上。设备可能会出现问题导致断开连接或无示数等情况，这时点击restart，将设备重新初始化，再点击auto play即可。点击configurations按钮可以设置一些参数，其中比较重要的是connect_interval_mSec，其默认值是100，这虽然能达到较高的定位实时性，但会导致连接不稳定，容易断开。将connect_interval_mSec设置为300，以定位频率降低为代价，使连接更稳定，能满足较长时间的定位。
<center>
<img src="./fig/rtls_ui.png" width=600px>
</center>
<center>
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
display: inline-block;
color: #999;
padding: 2px;">图. rtls_ui 界面示意图</div>
</center>

使用图形界面的控制方法使用便捷，在设置里也有少量参数可供调节，也有详尽的 log 文件将一切数据和活动输出，但毕竟缺乏灵活度和可拓展性。TI 还提供了使用 python 代码，通过 rtls_util 库提供的接口进行访问的方法。在<SimpleLink CC13X2 / CC26X2 SDK> → tools → ble5stack → rtls_agent → examples文件夹下有三个python文件，演示了各种通过rtls_util接口进行控制的方法。这些代码都是可以直接运行的，不过代码中硬省去了从usb串口中发现SimpleLink设备的过程，而是直接硬编码了各设备的串口。使用时需要在windows的设备管理器中找到Master和Passive对应的串口名称，并改写python代码再运行。三个python文件分别叫rtls_example_with_rtls_util.py，rtls_aoa_multi_conn_example.py和rtls_aoa_iq_with_rtls_util_export_into_csv.py，顾名思义，rtls_example_with_rtls_util.py提供了最简单最直接的定位示例，rtls_aoa_multi_conn_example.py演示了对多个Slave进行连接从而实现多目标定位的例子，而rtls_aoa_iq_with_rtls_util_export_into_csv.py会创建一个名为rtls_example_with_rtls_util_log的文件夹，并在其中存储.log文件和.csv文件，在csv文件中会写入此次定位各个采样点的I/Q值，方便后续分析。
<center>
<img src="./fig/rtls_python.png" width=600px>
</center>
<center>
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
display: inline-block;
color: #999;
padding: 2px;">图. python 代码运行示意图</div>
</center>

这里 python 代码和图形界面的控制逻辑和执行流程都完全相同。

1) 通过扫描电脑的 usb 串口或硬编码的方式获得 Master 和 Passive 的串口信息，并用 rtlsUtil.set_devices() 接口保存这些信息；

2) 执行 rtlsUtil.reset_devices()，初始化设备；

3) 调用 rtlsUtil.scan() 通过 Master 设备扫描范围内的 Slave 设备，获取其设备信息；

4) 根据上一步扫描结果，调用 rtlsUtil.ble_connect() ，与 Slave 设备建立 BLE 连接；这里需要设置 connect_interval_mSec，按前述所说，默认值是 100，而设置为 300 时定位频率降低但连接更稳定不易断开；

5) 通过 rtlsUtil.aoa_set_params()，将一些 AoA 定位相关的参数，包括采样频率，切换天线的频率和规则等传给 Master 和 Passive，然后调用 rtlsUtil.aoa_start() ，启动定位流程。此后 Master 将不停地发控制信息给 Slave，命令 Slave 广播带有 CTE 的蓝牙包，而每个 Master 和 Passive 设备对每个蓝牙包都能算出一个 AoA 值，这些值将会源源不断地传回电脑，从而实现实时定位。

在获取了各节点收到的实时的 AoA 数据后，即可使用三角定位的方法，根据预先测得的各节点的位置和朝向算出 Slave 的位置。本实验也可以支持多目标定位。Master 可以和多个 Slave 同时建立连接，而每个 Slave 广播的包都带有其 Mac 地址，借此可以区分不同 Slave 的信息。Master 和 Passive 可以同时聆听多个 Slave 的广播包并分别计算 AoA，因此可以同时对所有 Slave 进行定位。
### 4. 数据处理
在常见的由天线阵列计算 AoA 的场景中，多根天线都是同时接收数据的。在同一时刻两根天线之间的相位差乘以波长即得到信号源到这两者之间的距离差，再用三角函数即可算得入射角。而 TI 提供的 SimpleLink 开发板通过依次轮询的方式使用天线阵列。在使用天线 2 接收信号时，根据天线 1 搜集到的采样点，可以推算出天线 1 此时应当收到的相位。具体操作为：

1) 对所有天线在其没有切换时，计算相邻两个采样点之间的相位差，并取平均

2) 如果每根天线采集 16 个采样点，则可以对整个采样序列计算第(i+16)个点减第 i 个点的相位差。这样间距 16 个采样点的两个点一定在不同两根天线上，这 16 个点中间一定会有一个天线切换过程。

3) 第 i 个点加上 16 倍“相邻点平均相位差”即为同一根天线第 i+16 个点应有的相位，和第 i+16 个点的真实值就形成了同一时刻不同天线的相位差对比

4) 第 i+16 点减第 i 点相位得到的差值，再减去 16 倍相邻点平均相位差，即可得到两根天线在同一时刻的相位差值。

5) 由于在轮询时，是对天线按照 1-2-3-1-2-3 的顺序采样的，因此这一相位差在 1-2 和 2-3 时应当比较接近，而在 3-1 时应当是相反数并且幅度变为 2 倍；因此对上述(i+16)-i 的相位差，再对 3-1 的部分乘以-0.5，然后整体取平均即可。伪代码如下：

        phase_diff =  [phase[i+1]-phase[i] for i in range(length - 1) if i%16 != 0 ] 
        avg_phase_diff = average(phase_diff)
        antenna_diff = [phase[i+16]-phase[i]-avg_phase_diff*16 for i in range(length - 16) ]
        antenna_diff_fixed = [ i if floor(i/16)%3 != 2 else -0.5*i for i in antenna_diff ]
        avg_diff = average(antenna_diff_fixed)
        avg_distance = avg_diff / 2 / pi * wavelength
        angle = arcsin(avg_distance / antenna_distance)

这里注意，相位的范围是-180°到 180°，相位增加到 180°时会循环变为负值，而不是每个采样点依次递增的；如下图，是某次实验某个数据包 512 个采样点的相位情况。红框标识了天线 3-1，1-2 和 2-3 的切换处，采样点增幅增加和放缓的例子。
<center>
<img src="./fig/1_BLE_phase.png" width=600px>
</center>
<center>
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
display: inline-block;
color: #999;
padding: 2px;">图. 单蓝牙数据包相位变化情况</div>
</center>

上图中可以看到，相位沿各采样点递增，每个变化周期中会有两次增速放缓和一次增速提升，这些就是切换天线的时刻。下面将超过 180°的点进行补偿使之不会到-180°，得到下图，可以更加直观地看到这些递增递减关系。

<center>
<img src="./fig/phase_change_all.png" width=600px>
</center>
<center>
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
display: inline-block;
color: #999;
padding: 2px;">图. 补偿后单蓝牙数据包相位变化情况</div>
</center>

<center>
<img src="./fig/phase_change_part.png" width=600px>
</center>
<center>
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
display: inline-block;
color: #999;
padding: 2px;">图. 补偿后单蓝牙数据包相位变化情况(局部)</div>
</center>

如果不进行 360°的补偿，直接计算相位差，直接减去 16 倍相位差似乎有失偏颇；不过由于天线间距不超过半个波长，天线间相位差不会超过 180°，在算出超过±180°的值时只需直接加减 360°即可。

上述是 TI 提供的，内置在烧录入 Master 和 Passive 的固件中的 AoA 计算算法。TI 的实验模组不仅支持将各采样的相位值通过 usb 反馈给电脑，也可以在芯片上自动计算 AoA。然而这一算法过于简单，仍有改进的空间以提高定位的精确度。下面阐述我们在实验中发现的一些现象和改进点：

(1) 实验中发现，天线切换时相位是连续缓慢变化，而非理想情况下的直接跳变。这是因为天线切换的时间表包含 sample slot 时间片和 switch slot 时间片，前者使用单根天线采集数据，后者留给硬件完成天线切换的过程。在 switch slot 中采集到的相位不再准确。因此，我们可以只取 16 个采样点中比较平稳的中间 8 个，舍弃边缘不准确的 8 个点，避免 sample slot 中的不准确的采样点影响相位差均值。

(2) 另外，我们也把“求相邻点相位的平均值”替换为这 8 个点的直线拟合。我们观察到，在每一根天线采样的 16 个点中，中间 8 个点基本都在同一直线上，而这条直线的斜率却不十分稳定，在每个数据包的 512 个点中有轻微的偏移。这样，如果对 512 个点整体取平均相位差，再施加到每一组 8 个点上就会有失偏颇。我们把计算相邻点相位差这一步，从求 512 个点的平均值，变成了求 8 个点拟合直线的斜率，这样能在每一个局部达到最精确的拟合效果，更直观地推算出在切换天线后，当前天线应有的相位值，便于算相位差。

(3) 我们观察到，第(i+16)减第 i 个点的相位差，按理想情况应当是阶梯状，在每根天线的 16 个点内应为保持不变值。然而实验发现每 16 个点内变化很大，而且在这 16 点区间内变化率为一条直线，说明有某种不断积累的误差，在每根天线的第 1 到 16 个点不断累积。并且每根天线都似乎有自己固有的直线斜率，这一累计误差和各天线相关。如图 4.7。

<center>
<img src="./fig/phase_difference.png" width=600px>
</center>
<center>
<div style="color:orange; border-bottom: 1px solid #d9d9d9;
display: inline-block;
color: #999;
padding: 2px;">图. 相邻两根天线相对采样点差值变化情况</div>
</center>

由于蓝牙信号是稳定的正弦波，我们认为问题只能出在采样点处，采样点可能因为某种原因没有在应有的时刻采样，即采样率不稳定。我们按照信道和正弦波频率信息，可以推算出不切换天线时应有的相位和时间关系，从而计算出当前的采样率；对采样率进行平滑滤波并代入数据中，可以对误差进行适当的修正。
### 5. 后续工作
后续的进一步研究方向主要有：

(1) 分析出上述 4.4 (3) 提到的的各天线的累计误差的本质和来源，从而找到合适合理的误差消除方法。这种误差具有极强的规律性，或许可以通过在固定环境下重复测量，或者对不同 AOA 角度进行精确测量，将测得的数据和 ground truth 对比，找出累计误差的分布规律。

(2) 调整采样过程中的各种参数，例如，如果能降低天线切换频率，对每根天线采样 128 个采样点的话，依然可以在 512 个采样点的数据包中完成一轮切换，而这种情况下数据点更多，切换天线的时间占比更小，更容易排除切换天线带来的误差。

(3) 对整套 AOA 设备的性能进行测量。在可消除的误差基本排查干净后，对 AOA 设备在各角度下的精确度进行测量，验证或推翻之前观测到的“在正对天线阵列时更加准确”的观点。可根据结论设计进一步的研究方向和应用场景。 -->

<h2 id="_6">蓝牙定位的应用场景<a class="headerlink" href="#_6" title="Permanent link">&para;</a></h2>
<p>敬请期待。。。</p>
<!-- ### 1. 实时定位系统 RTLS
实时定位系统（Real Time Localization Systems: RTLS）常采用 AOA 方法，在工业界用途广泛。基于蓝牙的 RTLS 系统已经能够实现分米级实时定位，用以定位和追踪物体，机器人或人的位置和轨迹。在制造业中，可以追踪流水线上的工件；在物流业中可以追踪货物，或为自动化仓管机器人提供导航；在餐饮业中，可以定位每个用户的位置，方便上菜等服务；监控人流或物流，为流程优化提供数据支持，等等。RTLS 系统的主要特点是：

1) 环境：RTLS 系统往往处于室内环境中，环境较为复杂，常常包含大量障碍物（例如货架或流水线）；另一方面，环境陈设较为固定，允许在环境中事先部署多个定位装置，且对该环境的情况也有一定掌握；

2) 定位精度：要求分米级或厘米级准确度，且不同于导航系统等，RTLS 往往只需知道位置，而无需朝向信息。

3) 实时性：RTLS 系统经常用于人或物的追踪，因此需要提供实时的位置信息；

4) 空间和能耗：RTLS 系统中往往需要在被定位物体上放置无线 tag，这种 tag 的体积不能过大，同时能源供应也来源于自身的微型电池，因此能耗也有限制。不过，有些场景中被定位物为机器人或用户的手机，可以接受更高的能耗。
### 2. 室内导航系统
室内导航系统常用于人的定位，在复杂的室内环境下，用户只需打开手机 app 即可精确导航到其目的地。这与 RTLS 的最大区别在于其要求方向性，因为在复杂的室内环境中，用户很容易失去方向感，地图上的东南西北很难对应到前后左右上去；而且，室内环境中，音响等电磁设施也会干扰指南针的运作。基于蓝牙的室内导航系统采用 AOD 技术，可以为用户提供实时的，带有方向性的指引，用户只要持平手机并朝向屏幕上的箭头方向行走即可。另外，AOD 技术也可以支持海量目标的同时定位，例如帮助体育场的观众找到他们的座位等。
### 3. 寻物系统
寻物系统指在小物件上安装无线 tag，在丢失时，用手机和这些 tag 交互以定位它们的位置。寻物系统最大的特点是场景中只存在两个设备；因此，往往通过信号幅度和飞行时间计算距离，用 AOA 计算方向，实现定位。寻物系统中的 tag 对体积和能耗都有极其严苛的限制，既要求体积小巧，又要求续航时间足够长；另外，寻物系统对精度也有较高的要求。而由于丢失的小物件常常置于十分复杂的室内环境中，这一场景的多径干扰也很严重。基于蓝牙的寻物系统往往只能提供较为精确的方向；关于距离，只能通过信号幅度进行估算，用户可以在环境中移动并观察信号强弱，以判断距离的远近变化。有些寻物系统会结合 UWB 等技术进一步提升精度，或是安装蜂鸣器，需要时可以发出声音，帮助用户手动定位。
### 4. 兴趣点信息场景
兴趣点信息场景（Point of Interest Information Solutions）主要用于博物馆或高端商店等。每个展品或商品都是一个兴趣点，当用户将手机指向某个展品或商品时，手机上或附近的显示屏上就会显示该物品的信息，辅助用户理解。或者，用户可以戴上带有定位模块的耳机，当其看向某个展品时，耳机就会播放相关解说词。这一场景的特点是，如果在每个展品上放置信标的话，只需要计算相对于每个信标的用户朝向即可，而不需要用户的确切位置。这一应用可用蓝牙 AOD 定位技术实现。在万物互联的信息时代，这一场景在成为研究的热点，也为蓝牙定位系统开辟了新的方向。 -->
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid" aria-label="Footer">
        
          <a href="../S6_WIFI%E6%84%9F%E7%9F%A5/" class="md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-footer-nav__button md-icon">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
            </div>
            <div class="md-footer-nav__title">
              <div class="md-ellipsis">
                <span class="md-footer-nav__direction">
                  上一页
                </span>
                14.5 WiFi CSI的获取
              </div>
            </div>
          </a>
        
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/vendor.6a3d08fc.min.js"></script>
      <script src="../../assets/javascripts/bundle.71201edf.min.js"></script><script id="__lang" type="application/json">{"clipboard.copy": "\u590d\u5236", "clipboard.copied": "\u5df2\u590d\u5236", "search.config.lang": "ja", "search.config.pipeline": "trimmer, stemmer", "search.config.separator": "[\\uff0c\\u3002]+", "search.placeholder": "\u641c\u7d22", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}</script>
      
      <script>
        app = initialize({
          base: "../..",
          features: [],
          search: Object.assign({
            worker: "../../assets/javascripts/worker/search.4ac00218.min.js"
          }, typeof search !== "undefined" && search)
        })
      </script>
      
        <script src="../../js/extra.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>