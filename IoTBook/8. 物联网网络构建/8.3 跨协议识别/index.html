



<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
        <meta name="description" content="介绍物联网基础概念">
      
      
      
        <meta name="author" content="WiSys Lob">
      
      
        <meta name="lang:clipboard.copy" content="复制">
      
        <meta name="lang:clipboard.copied" content="已复制">
      
        <meta name="lang:search.language" content="zh">
      
        <meta name="lang:search.pipeline.stopwords" content="True">
      
        <meta name="lang:search.pipeline.trimmer" content="True">
      
        <meta name="lang:search.result.none" content="没有找到符合条件的结果">
      
        <meta name="lang:search.result.one" content="找到 1 个符合条件的结果">
      
        <meta name="lang:search.result.other" content="# 个符合条件的结果">
      
        <meta name="lang:search.tokenizer" content="[\uff0c\u3002]+">
      
      <link rel="shortcut icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.0.4, mkdocs-material-4.6.0">
    
    
      
        <title>6.4.1 跨协议识别 - IoT Book</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/application.1b62728e.css">
      
        <link rel="stylesheet" href="../../../assets/stylesheets/application-palette.a8b3c06d.css">
      
      
        
        
        <meta name="theme-color" content="#546e7a">
      
    
    
      <script src="../../../assets/javascripts/modernizr.268332fc.js"></script>
    
    
      
        <link href="https://fonts.gstatic.com" rel="preconnect" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
    
    <link rel="stylesheet" href="../../../assets/fonts/material-icons.css">
    
    
    
      
    
    
  </head>
  
    
    
    <body dir="ltr" data-md-color-primary="blue-grey" data-md-color-accent="deep-orange">
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" data-md-component="overlay" for="__drawer"></label>
    
      <a href="#_1" tabindex="1" class="md-skip">
        跳转至
      </a>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../.." title="IoT Book" class="md-header-nav__button md-logo">
          
            <img src="../../../images/nicon.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            <span class="md-header-nav__topic">
              IoT Book
            </span>
            <span class="md-header-nav__topic">
              
                6.4.1 跨协议识别
              
            </span>
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          <label class="md-icon md-icon--search md-header-nav__button" for="__search"></label>
          
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active">
      <label class="md-icon md-search__icon" for="__search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">
        &#xE5CD;
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            键入以开始搜索
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main" role="main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="__drawer">
    <a href="../../.." title="IoT Book" class="md-nav__button md-logo">
      
        <img src="../../../images/nicon.png" width="48" height="48">
      
    </a>
    IoT Book
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../1. 前言/物联网导论/" title="一. 前言" class="md-nav__link">
      一. 前言
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item">
    <a href="../../2. 物联网简介/物联网简介/" title="二. 物联网简介" class="md-nav__link">
      二. 物联网简介
    </a>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      三. 开发环境
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        三. 开发环境
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../平台搭建/android开发基础/" title="3.1 Android 环境" class="md-nav__link">
      3.1 Android 环境
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../平台搭建/matlab基础/" title="3.2 MATLAB 环境" class="md-nav__link">
      3.2 MATLAB 环境
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      四. 物联网网络协议
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        四. 物联网网络协议
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../3. 物联网通信协议/物联网连接技术/" title="4.1 物联网连接技术" class="md-nav__link">
      4.1 物联网连接技术
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../3. 物联网通信协议/4.2 Wi-Fi无线局域网/" title="4.2 Wi-Fi无线局域网" class="md-nav__link">
      4.2 Wi-Fi无线局域网
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../3. 物联网通信协议/4.3 蓝牙/" title="4.3 蓝牙" class="md-nav__link">
      4.3 蓝牙
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../3. 物联网通信协议/4.4 ZigBee/" title="4.4 ZigBee" class="md-nav__link">
      4.4 ZigBee
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../3. 物联网通信协议/4.5 毫米波通信/" title="4.5 毫米波通信" class="md-nav__link">
      4.5 毫米波通信
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../3. 物联网通信协议/4.6 可见光通信/" title="4.6 可见光通信" class="md-nav__link">
      4.6 可见光通信
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../3. 物联网通信协议/4.7 低功耗广域网/" title="4.7 低功耗广域网" class="md-nav__link">
      4.7 低功耗广域网
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../3. 物联网通信协议/蓝牙实验/" title="4.8 蓝牙连接实验" class="md-nav__link">
      4.8 蓝牙连接实验
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../3. 物联网通信协议/LoRa编码和通信实验/" title="4.9 LoRa编码和通信实验" class="md-nav__link">
      4.9 LoRa编码和通信实验
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      五. 物联网通信基础
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        五. 物联网通信基础
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../4. 物联网通信基础/5.1 采样和量化/" title="5.1 采样和量化" class="md-nav__link">
      5.1 采样和量化
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../4. 物联网通信基础/5.2 傅里叶分析/" title="5.2 傅里叶分析" class="md-nav__link">
      5.2 傅里叶分析
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../4. 物联网通信基础/5.3 无线信道/" title="5.3 无线信道" class="md-nav__link">
      5.3 无线信道
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../4. 物联网通信基础/5.4 滤波/" title="5.4 信号滤波" class="md-nav__link">
      5.4 信号滤波
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../4. 物联网通信基础/4.2 调制解调方法及其声音实现/" title="5.5 调制解调方法" class="md-nav__link">
      5.5 调制解调方法
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked>
    
    <label class="md-nav__link" for="nav-6">
      六. 物联网网络构建技术
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        六. 物联网网络构建技术
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../8.5 物联网多跳自组网网络协议/" title="6.1 物联网组网技术" class="md-nav__link">
      6.1 物联网组网技术
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../8.1 低功耗物联网概述/" title="6.2 低占空比网络" class="md-nav__link">
      6.2 低占空比网络
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3">
    
    <label class="md-nav__link" for="nav-6-3">
      6.3 网络冲突处理
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-3">
        6.3 网络冲突处理
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../8.2.1 链路模型及网络容量/" title="6.3.1 链路模型及网络容量" class="md-nav__link">
      6.3.1 链路模型及网络容量
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../8.2 网络冲突处理/" title="6.3.2 网络冲突处理方法" class="md-nav__link">
      6.3.2 网络冲突处理方法
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../8.2.2 zigzag实验/" title="6.3.2 实验：ZigZag声音实现" class="md-nav__link">
      6.3.2 实验：ZigZag声音实现
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-4" type="checkbox" id="nav-6-4" checked>
    
    <label class="md-nav__link" for="nav-6-4">
      6.4 跨协议识别与通信
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-4">
        6.4 跨协议识别与通信
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="__toc">
        6.4.1 跨协议识别
      </label>
    
    <a href="./" title="6.4.1 跨协议识别" class="md-nav__link md-nav__link--active">
      6.4.1 跨协议识别
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-zisense" class="md-nav__link">
    1. ZiSense
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../8.4 跨协议通信/" title="6.4.2 跨协议通信" class="md-nav__link">
      6.4.2 跨协议通信
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      七. 物联网感知技术
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        七. 物联网感知技术
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-1" type="checkbox" id="nav-7-1">
    
    <label class="md-nav__link" for="nav-7-1">
      7.1 传感器感知
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-1">
        7.1 传感器感知
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../5.物联网感知/传感器感知/传感器/" title="7.1.1 传感器" class="md-nav__link">
      7.1.1 传感器
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../5.物联网感知/传感器感知/实验-传感器/" title="7.1.2 传感器实验" class="md-nav__link">
      7.1.2 传感器实验
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-2" type="checkbox" id="nav-7-2">
    
    <label class="md-nav__link" for="nav-7-2">
      7.2 行为识别
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-2">
        7.2 行为识别
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../404/" title="7.2.1 Wi-Fi 动作识别" class="md-nav__link">
      7.2.1 Wi-Fi 动作识别
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../5.物联网感知/智能手表手势识别/智能手表连接教程/智能手表连接教程/" title="7.2.2 智能手表手势识别" class="md-nav__link">
      7.2.2 智能手表手势识别
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../5.物联网感知/身份识别/频率选择/" title="7.3 身份认证" class="md-nav__link">
      7.3 身份认证
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-4" type="checkbox" id="nav-7-4">
    
    <label class="md-nav__link" for="nav-7-4">
      7.4 定位与追踪
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-4">
        7.4 定位与追踪
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../5.物联网感知/定位与追踪/无线测距/" title="7.4.1 无线测距" class="md-nav__link">
      7.4.1 无线测距
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../5.物联网感知/定位与追踪/定位技术/" title="7.4.2 定位技术" class="md-nav__link">
      7.4.2 定位技术
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../5.物联网感知/定位与追踪/追踪技术/" title="7.4.3 追踪技术" class="md-nav__link">
      7.4.3 追踪技术
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      八. 物联网综合应用平台
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        八. 物联网综合应用平台
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../10. 物联网应用平台/定位感知实验/" title="8.1 定位感知" class="md-nav__link">
      8.1 定位感知
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../10. 物联网应用平台/阿里云平台/阿里云物联网平台介绍/" title="8.2 阿里云平台" class="md-nav__link">
      8.2 阿里云平台
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../10. 物联网应用平台/LoRa测试床/LoRa测试床/" title="8.3 LoRa测试床" class="md-nav__link">
      8.3 LoRa测试床
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../10. 物联网应用平台/物联网开发/物联网开发/" title="8.4 物联网开发" class="md-nav__link">
      8.4 物联网开发
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="__toc">目录</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#1-zisense" class="md-nav__link">
    1. ZiSense
  </a>
  
</li>
      
      
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="_1">跨协议识别<a class="headerlink" href="#_1" title="Permanent link">&para;</a></h1>
<p>为了达到长期运行的目的，无线传感器网络通常运行在低功耗的周期性工作（duty cycling）模式下。所谓周期性工作即节点周期性的醒来进行数据的收发，而在其他时间关闭无线通信模块，从而节省大量能量。低功耗监听（Low Power Listening，LPL）和低功耗探测（Low Power Probing，LPP）是无线传感器网络常用的两种低功耗周期性工作技术。LPL和LPP的工作方式分别如图1（1）和图1（2）所示。</p>
<p><div align=center><img alt="LPL和LPP工作模式示意图" src="../images/wpsNlj3t8.png" /></div> 
 <center>
 <div style="color:orange; border-bottom: 1px solid #d9d9d9;
 display: inline-block;
 color: #999;
 padding: 2px;">图1. LPL和LPP工作模式示意图</div>
 </center></p>
<p>在LPL中，每个接收节点周期性的醒过来打开无线通信模块去测量信道的能量，如果能量高于一个阈值，则接收节点认为存在数据传输，故保持无线通信模块打开来收取可能的数据包；否则，节点关闭无线通信模块。这个过程就是所谓的空闲信道评估（Clear Channel Assessment，CCA）。使用LPL的发送节点重复发送数据包当做传输前导（preambles）直到接收节点返回一个ACK表示数据包已被收到。</p>
<p>在LPP中，节点使用的是接收节点触发机制，每个接收节点都会周期性醒来发送一个探测包probe告诉周围节点自己的醒来事件，收到接收节点的probe，发送节点会马上发出数据包。在LPP中，发送节点不会主动重复发送传输前导，反而是静默等待接收节点的probe，只有在收到probe时候才进行数据传输。</p>
<p>在无干扰的环境下，这两种方法可以节省很大程度上减少能量消耗。但是，当有其他无线技术运行在同样的频率上时，他们的性能会急剧下降。</p>
<p>而随着现代社会的发展，无线传感器网络大范围的应用到室内系统中，比如空调控制系统，智能家居等应用系统。由于无线传感器网络是遵守IEEE 802.15.4协议规范，它必须运行在2.4GHz的频段上。2.4GHz是工作在ISM频段的一个频段。ISM频段是工业，科学和医用频段。一般来说世界各国均保留了一些无线频段，以用于工业，科学研究，和微波医疗方面的应用。应用这些频段无需许可证，只需要遵守一定的发射功率(一般低于1W)，并且不要对其它频段造成干扰即可。ISM频段在各国的规定并不统一。而2.4GHz为各国共同的ISM频段。</p>
<p>由于2.4GHz是一个免费的频段，所以很多设备应用于在这个频段。在室内环境中，常见的运行在2.4GHz的无线技术包括：</p>
<ul>
<li>
<p>无线局域网络WiFi，遵循IEEE 802.11协议规范；</p>
</li>
<li>
<p>蓝牙技术Bluetooth，遵循IEEE 802.15.1协议规范；</p>
</li>
<li>
<p>ZigBee，遵循IEEE 802.15.4协议规范；</p>
</li>
<li>
<p>微波炉，微波不是一种通信信号，但是微波炉产生的微波信号的频率却于2.4GHz频段产生了重叠，导致了干扰。</p>
</li>
</ul>
<p>这些干扰会导致低功耗周期性工作产生许多能量浪费。比如，在LPL中，一个节点使用CCA来判断自己是否该保持无线通信模块的打开。如果存在干扰源，发出的信号能量大于阈值时，即使没有ZigBee的数据在传输，CCA也会认为信道是繁忙的，从而打开节点的无线通信模块，造成无谓的能量浪费。这就是所谓的假醒问题，即，节点认为信道存在数据传输而实际信道上没有ZigBee的数据传输。对于LPP，同样存在着类似的问题。如果LPP机制的探测包probe丢失，发送节点等不到probe会导致其一直打开自己的无线通信模块，监听信道，等待可能得probe消息。这会造成发送节点无线通信模块打开过长的时间，导致能量的浪费。</p>
<h2 id="1-zisense">1. ZiSense<a class="headerlink" href="#1-zisense" title="Permanent link">&para;</a></h2>
<p>基于上述技术问题，本文介绍一种基于无线信号类型识别的无线传感器网络低功耗工作技术。现有技术工作不够高效的问题是：检测信道能量和解码探测包都极易受到干扰，尤其是非ZigBee的其他无线技术的干扰的影响。因此，本文介绍一个新的技术——ZiSense。ZiSense利用ZigBee信号对于干扰更加有抵抗性的更加有特点的特征来检测可能得数据传输，从而在真正有数据包传输的时候，唤醒节点，根本上消除假醒问题，同时采用传输前导来重复传输数据包，使得传输对干扰更加有抵抗性。本质上来讲，该技术从根本上改变了现有的基于CCA和探测包的低功耗周期性工作模式。</p>
<p>该技术是一种基于无线信号类型识别的无线传感器网络低功耗工作技术，包括如下步骤：</p>
<ol>
<li>
<p>接收节点运行在本发明提出的低功耗工作模式——ZiSense下，周期性的时钟唤醒节点，打开无线通信模块，对信道进行采样评估，获得一定时间长度的接收信号能量（Received Signal Strength Indicator，RSSI）的序列。</p>
</li>
<li>
<p>对采样后的RSSI序列进行分割切片，提取出有用的RSSI序列片段。</p>
</li>
<li>
<p>对RSSI序列片段进行特征的提取，提取出该段RSSI序列的突出特征。</p>
</li>
<li>
<p>使用特征来进行无线信号类型的识别。</p>
</li>
<li>
<p>识别出无线信号的类型后，即可判断是否存在ZigBee信号，如果存在，则保持无线通信模块打开进行通信；否则，关闭无线通信模块进入睡眠模式，节省能量。
 <div align=center><img alt="本发明的执行步骤概览" src="../images/wpsd0APdk.png" /></div> 
 <center>
 <div style="color:orange; border-bottom: 1px solid #d9d9d9;
 display: inline-block;
 color: #999;
 padding: 2px;">图2. 执行步骤概览</div>
 </center></p>
</li>
</ol>
<p>特别地，在步骤1中的RSSI采样过程需要快速执行，这样才能保证时间效率，从而减少无线通信模块的打开时间。本发明使用了TinyOS提供的无线通信模块驱动程序，提高了总线的时钟频率，从而将RSSI的采样频率提高到了31.25KHz，即，32μs/采样点。本发明的采样窗口大小是90个采样点，需要花费2.9毫秒。</p>
<p>特别地，在步骤2中设计的分段方法如下。分段的目标是从90个采样点组成的RSSI序列提取出RSSI段，每个段对应于一个包的传输。直观上讲，一个包的传输可以被一连串的高RSSI采样序列来识别出来。对于微波炉，一个RSSI段起始于偏离环境噪声。所以本发明使用的分段方法是：当RSSI采样点的值偏离环境噪声超过一定阈值时，本发明认为这是一个有效的RSSI段的开始。相类似的，一个段的结束可以认为是RSSI采样值和环境噪声的差值小于了这个阈值。</p>
<p>定义采样到的RSSI序列为：<span><span class="MathJax_Preview">X=\{x_1，x_2，……，x_W\}</span><script type="math/tex">X=\{x_1，x_2，……，x_W\}</script></span>。这里W是采样窗口大小90。所以在这个RSSI序列里面所有段的开始点S和结束点E可以表示成如下公式：</p>
<div>
<div class="MathJax_Preview">
S=\{s\big | \left| x_{s-1}-Noise \right| &lt; th_d, \left| x_s-Noise \right| \geq th_d \}
$$
$$
E=\{e\big | \left| x_{e}-Noise \right| \geq th_d, \left| x_{e+1}-Noise \right| &lt; th_d \}
</div>
<script type="math/tex; mode=display">
S=\{s\big | \left| x_{s-1}-Noise \right| < th_d, \left| x_s-Noise \right| \geq th_d \}
$$
$$
E=\{e\big | \left| x_{e}-Noise \right| \geq th_d, \left| x_{e+1}-Noise \right| < th_d \}
</script>
</div>
<p>将S和E进行升序排列然后放入两个数组<img alt="img" src="file:////tmp/wps-shuai/ksohtml/wpsG8tBHH.png" />和<img alt="img" src="file:////tmp/wps-shuai/ksohtml/wpscjRwrT.png" />中。为了消除开始和结束点在采样窗口外的问题，我们人为的在采样序列的开始和结束分别加上了一个环境噪声值。因此这里可以保证<img alt="img" src="file:////tmp/wps-shuai/ksohtml/wps8Nptb5.png" />，这里K是提取出来的段的总数。</p>
<p>比如，如图3的ZigBee采样序列所示，通过上述方法得到：<span><span class="MathJax_Preview">S=\{2.2ms\}</span><script type="math/tex">S=\{2.2ms\}</script></span>，<span><span class="MathJax_Preview">E=\{4.2ms\}</span><script type="math/tex">E=\{4.2ms\}</script></span>，则RSSI序列在时间范围<span><span class="MathJax_Preview">[2.2ms,4.2ms]</span><script type="math/tex">[2.2ms,4.2ms]</script></span>内构成了一个段（如图中高于噪声的采样点组成），再比如图4的WiFi采样序列，通过上述方法得到：<span><span class="MathJax_Preview">S=\{2.8ms，3.3ms，3.6ms，4.2ms\}</span><script type="math/tex">S=\{2.8ms，3.3ms，3.6ms，4.2ms\}</script></span>，<span><span class="MathJax_Preview">E=\{3.0ms，3.5ms，4.0ms，4.5ms\}</span><script type="math/tex">E=\{3.0ms，3.5ms，4.0ms，4.5ms\}</script></span>。则我们可以得到4个段：<span><span class="MathJax_Preview">[2.8ms, 3.0ms],[3.3ms,3.5ms],[3.6ms,4.0ms],[4.2ms,4.5ms]</span><script type="math/tex">[2.8ms, 3.0ms],[3.3ms,3.5ms],[3.6ms,4.0ms],[4.2ms,4.5ms]</script></span>。</p>
<p>特别地，在步骤3中进行的特征提取如下。首先本发明根据历史数据测量决定要提取哪些特征。根据历史数据，不同的信号源的RSSI序列如图3-图6所示。图3是ZigBee传输时采集的RSSI序列；图4是WiFi信号产生的RSSI序列；图5展示了蓝牙信号的RSSI序列；图6展示了微波炉产生的电磁波的RSSI序列。</p>
<p><div align=center><img alt="ZigBee信号的RSSI序列" src="../images/wps7fRsVg.jpg" /> </div> 
 <center>
 <div style="color:orange; border-bottom: 1px solid #d9d9d9;
 display: inline-block;
 color: #999;
 padding: 2px;">图3. ZigBee信号的RSSI序列</div>
 </center></p>
<p><div align=center><img alt="WiFi信号的RSSI序列" src="../images/wpsTUWtFs.jpg" /></div> 
 <center>
 <div style="color:orange; border-bottom: 1px solid #d9d9d9;
 display: inline-block;
 color: #999;
 padding: 2px;">图4. WiFi信号的RSSI序列</div>
 </center></p>
<p><div align=center><img alt="蓝牙信号的RSSI序列" src="../images/wps0PCwpE.jpg" /></div> 
 <center>
 <div style="color:orange; border-bottom: 1px solid #d9d9d9;
 display: inline-block;
 color: #999;
 padding: 2px;">图5. 蓝牙信号的RSSI序列</div>
 </center></p>
<p><div align=center><img alt="微波炉信号的RSSI序列" src="../images/wpsBpRA9P.jpg" /></div> 
 <center>
 <div style="color:orange; border-bottom: 1px solid #d9d9d9;
 display: inline-block;
 color: #999;
 padding: 2px;">图6. 微波炉信号的RSSI序列</div>
 </center></p>
<p>根据上面的RSSI采样序列特点，该技术决定了4个特征：</p>
<ol>
<li>
<p>传输时间（On-air Time）。不同的技术的不同的有效传输时间范围是由各自协议规范规定的传输速率和有效包的大小决定的。根据其底层的标准规范，我们可以得知：ZigBee的传输时间为<span><span class="MathJax_Preview">[608μs, 4256μs]</span><script type="math/tex">[608μs, 4256μs]</script></span>；WiFi的传输时间根据802.11n的规范是<span><span class="MathJax_Preview">[194μs, 542μs]</span><script type="math/tex">[194μs, 542μs]</script></span>；蓝牙的传输时间是<span><span class="MathJax_Preview">366μs</span><script type="math/tex">366μs</script></span>；微波炉的传输时间是由微波炉的工作模式决定的，<span><span class="MathJax_Preview">[2ms, 10ms]</span><script type="math/tex">[2ms, 10ms]</script></span>。</p>
<p>第<span><span class="MathJax_Preview">k</span><script type="math/tex">k</script></span>个段的传输时间的计算公式如下：</p>
<div>
<div class="MathJax_Preview">
T_{on}(k)=(I_S(k)-I_E(k))\times T_s
</div>
<script type="math/tex; mode=display">
T_{on}(k)=(I_S(k)-I_E(k))\times T_s
</script>
</div>
<p>其中<span><span class="MathJax_Preview">T_s</span><script type="math/tex">T_s</script></span>是采样周期。</p>
</li>
<li>
<p>最小包间隔时间（Minimum Packet Interval, MPI）。MPI定义为两个连续的传输信号直接的最小间隔时间。ZigBee的MPI是由传输层的协议定义规范的，一般取决于ACK的往返时间，根据现在的系统实现，ZigBee的MPI是2.8ms。WiFi的包间隔时间是由802.11协议规范的，两个连续的数据包发送之间至少间隔DIFS时间（DCF Inter-Frame Space）。即WiFI的MPI是28μs。由于蓝牙使用的是伪随机跳频，在同一个频率上的两个连续的包的时间间隔是没有定值的，即蓝牙的MPI不存在。而微波炉的MPI就是微波炉周期性工作的关闭阶段的时间。即，微波炉的MPI是10ms（在电源的频率是50Hz的情况下）。</p>
<p>MPI的计算公式如下：</p>
<div>
<div class="MathJax_Preview">
T_{MPI}=min\{(i-j)\big|\ \left|\overline{X_i}-\overline{X_j}\right| \leq th_s,1 \leq j &lt; i \leq K\}
</div>
<script type="math/tex; mode=display">
T_{MPI}=min\{(i-j)\big|\ \left|\overline{X_i}-\overline{X_j}\right| \leq th_s,1 \leq j < i \leq K\}
</script>
</div>
<p>其中<span><span class="MathJax_Preview">th_s</span><script type="math/tex">th_s</script></span>是两个段的平均RSSI值的差，<span><span class="MathJax_Preview">\overline{X_i}</span><script type="math/tex">\overline{X_i}</script></span>和<span><span class="MathJax_Preview">\overline{X_j}</span><script type="math/tex">\overline{X_j}</script></span>是RSSI段<span><span class="MathJax_Preview">i</span><script type="math/tex">i</script></span>和<span><span class="MathJax_Preview">j</span><script type="math/tex">j</script></span>的RSSI的平均值。</p>
</li>
<li>
<p>峰值-均值能量比（Peak to Average Power Ratio，PAPR）。由于不同的物理层调制方式，不同的无线技术有不同的能量抖动。PAPR就是用于衡量能量的抖动程度的指标。计算方法为：峰值能量÷平均能量。WiFi使用的调制技术是OFDM。如背景介绍中提到的，OFDM是一种多信道的调制方法，接收到的信号时各个正交的子信道的相加。因此，各个子信道上的波动也被相加了，导致OFDM比起单信道的传输，能量波动大很多。所以WiFi的PAPR一般≥1.9。而ZigBee使用的DSSS是单信道的调制模式，所以ZigBee的PAPR一般≤1.3。蓝牙使用的FHSS也是一个单信道的扩频的调制模式，因此其PAPR一般也是≤1.3。微波炉产生的微波是一种电磁波，根据测量，它的波动非常大，原因可能是是微波炉的周期性开关工作模式。微波炉的PAPR一般≥2.9。</p>
<p>假设RSSI段k的序列为<span><span class="MathJax_Preview">X_k=\{x_{I_s(k)},x_{I_s(k)+1},……,x_{E_s(k)}\}</span><script type="math/tex">X_k=\{x_{I_s(k)},x_{I_s(k)+1},……,x_{E_s(k)}\}</script></span>，则PAPR的计算公式如下：</p>
<div>
<div class="MathJax_Preview">
PAPR(K)=\frac{max\{x_l^2|I_S(k) \leq l \leq I_E(k) \}}{\overline{X_k^2}}
</div>
<script type="math/tex; mode=display">
PAPR(K)=\frac{max\{x_l^2|I_S(k) \leq l \leq I_E(k) \}}{\overline{X_k^2}}
</script>
</div>
<p>其中<span><span class="MathJax_Preview">\overline{X_k^2}</span><script type="math/tex">\overline{X_k^2}</script></span>是<span><span class="MathJax_Preview">X_k</span><script type="math/tex">X_k</script></span>的元素的平方值的平均值。</p>
</li>
<li>
<p>低于噪声信号（Under Noise Floor，UNF）。这里定义UNF作为一个指示变量：如果RSSI序列存在RSSI值低于噪声10dBm，则UNF为TRUE；否则UNF为FALSE。此指示变量是用于区分微波炉与其他无线技术。因为根据实验观察本发明发现微波炉的工作时，总是以一个低于噪声信号很多的RSSI值起始，如图5，所以UNF可以指明信号是否是由微波炉产生的。除了微波炉的信号的UNF为TRUE，其他无线技术都不会导致这种现象，因此其他无线信号的UNF都是FALSE。</p>
<p>UNF的判断公式如下：</p>
<div>
<div class="MathJax_Preview">
UNF(k)=\left\{\begin{matrix}
TURE, &amp; \exists x_i,i\in[I_S(k),I_E(k)],(Noise-x_i) \geq 10 \\ 
FALSE, &amp; otherwise 
\end{matrix}\right.
</div>
<script type="math/tex; mode=display">
UNF(k)=\left\{\begin{matrix}
TURE, & \exists x_i,i\in[I_S(k),I_E(k)],(Noise-x_i) \geq 10 \\ 
FALSE, & otherwise 
\end{matrix}\right.
</script>
</div>
</li>
</ol>
<p>特别地，在步骤4中，本发明使用决策树以步骤3生成的特征作为输入，判断该段RSSI序列里面是否包含有ZigBee信号。注意本发明并不要求完全区分每一类干扰源的信号类型，只需要判断是否存在ZigBee信号，即可指导节点正确的醒睡。</p>
<p>该技术使用的决策树如图7所示。将提取出来的特征输入到决策树，如果最后走到“NO”的叶子节点，则不存在ZigBee；如果最后走到“YES”的叶子节点，则存在ZigBee。</p>
<ul>
<li>
<p>步骤4-1：首先判断PAPR，若PAPR小于等于ZigBee信号的表征值，则转向步骤4-2；否则转向步骤4-3；</p>
</li>
<li>
<p>步骤4-2：判断数据包的传输时间，若传输时间大于等于最小传输时间，则转往步骤4-4；否则判断不是ZigBee信号。</p>
</li>
<li>
<p>步骤4-3：判断数据包的传输时间，若传输时间大于等于最小传输时间，则转往步骤****D-5****；否则判断不是ZigBee信号。</p>
</li>
<li>
<p>步骤4-4：判断数据包的传输时间，若传输时间小于等于最大传输时间，则可判断是ZigBee信号；否则判断不是ZigBee信号。</p>
</li>
<li>
<p>步骤4-5：判断序列的低于噪声指示变量，若只是变量是FALSE，则转往步骤4-6；否则判断不是ZigBee信号。</p>
</li>
<li>
<p>步骤4-6：判断数据包传输的间隔时间，若间隔时间与ZigBee的标准间隔时间相差小于一定阈值，则转往步骤D-7；否则判断不是ZigBee信号。</p>
</li>
<li>
<p>步骤4-7：判断数据包的传输时间，若传输时间小于等于最大传输时间，则可判断是ZigBee信号；否则判断不是ZigBee信号。<br />
 <div align=center><img alt="img" src="../images/wpsWl3SBJ.png" /></div> 
 <center>
 <div style="color:orange; border-bottom: 1px solid #d9d9d9;
 display: inline-block;
 color: #999;
 padding: 2px;">图7. 决策树判断是否存在ZigBee信号</div>
 </center></p>
</li>
</ul>
<p>特别地，在步骤5中，根据步骤4产生的结果决定是否保持无线通信模块打开。如果存在ZigBee信号，则保持无线通信模块打开；否则，关闭无线通信模块。</p>
<p>通过这样的步骤，节点可以完全避免假醒问题，减少节点无线通信模块的打开时间，达到节省能量的目的。 </p>
                
                  
                
                
              
              
                


              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../8.2.2 zigzag实验/" title="6.3.2 实验：ZigZag声音实现" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  上一页
                </span>
                6.3.2 实验：ZigZag声音实现
              </span>
            </div>
          </a>
        
        
          <a href="../8.4 跨协议通信/" title="6.4.2 跨协议通信" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  下一页
                </span>
                6.4.2 跨协议通信
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="https://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
  <div class="md-footer-social">
    <link rel="stylesheet" href="../../../assets/fonts/font-awesome.css">
    
      <a href="https://github.com/iot-book" class="md-footer-social__link fa fa-github"></a>
    
  </div>

    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../../assets/javascripts/application.808e90bb.js"></script>
      
        
        
          
          <script src="../../../assets/javascripts/lunr/lunr.stemmer.support.js"></script>
          
            
              
              
            
          
          
        
      
      <script>app.initialize({version:"1.0.4",url:{base:"../../.."}})</script>
      
        <script src="../../../js/extra.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-MML-AM_CHTML"></script>
      
    
  </body>
</html>